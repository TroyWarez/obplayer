<!DOCTYPE html>
<html>
  <head>
    <title><%= obplayer.HTTPAdmin.title %></title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <script type="text/javascript" src="/extras/jquery.min.js"></script>
    <script type="text/javascript" src="/common.js"></script>
  </head>

  <body>
	<% alert = obplayer.alerts.Processor.get_alert(py.DATA('id')[0]) %>
	<% alert_info = alert.get_first_info(obplayer.alerts.Processor.language_primary) %>
	<div class="container-fluid">
		<div id="alert-details">
			<div class="row mt-2">
				<div class="col-md-8 col-sm-12">
					<h2><span data-t>Details of</span>&nbsp;<%= alert.identifier %></h2>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Identifier:</label>
					<%= alert.identifier %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Sender:</label>
					<%= alert.sender %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Sent:</label>
					<%= alert.sent %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Codes:</label>
					<%= '<br />\n'.join(alert.codes) %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Status:</label>
					<%= alert.status %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Message Type:</label>
					<%= alert.msgtype %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Scope:</label>
					<%= alert.scope %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Language:</label>
					<%= alert_info.language %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Event:</label>
					<%= alert_info.event %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Urgency:</label>
					<%= alert_info.urgency %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Severity:</label>
					<%= alert_info.severity %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Certainty:</label>
					<%= alert_info.certainty %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Expires:</label>
					<%= alert_info.expires %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Sender Name:</label>
					<%= alert_info.sender %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Headline:</label>
					<span style="text-decoration: underline;"><%= alert_info.headline %></span>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Description:</label>
					<%= alert_info.description.replace('\n', '<br />\n') if alert_info.description else '(none)' %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Instruction:</label>
					<%= unicode(alert_info.instruction) if alert_info.instruction else '(none)' %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Parameters:</label>
					<%= u'<br />\n'.join([ u"<i>" + unicode(name) + u"</i>: <b>" + unicode(val) + u"</b>" for (name, val) in alert_info.parameters ]) %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Event Codes:</label>
					<%= u'<br />\n'.join([ u"<i>" + unicode(name) + u"</i>: <b>" + unicode(val) + u"</b>" for (name, val) in alert_info.eventcodes ]) %>
				</div>
			</div>
			<div class="row mt-2">
				<div class="col-md-6 col-sm-12">
					<label>Attached Resources:</label>
					<%= u'<br />\n'.join([ unicode(resource.uri) + u" (" + unicode(resource.mimetype) + u": " + unicode(resource.size) + u")" for resource in alert_info.resources ]) %>
				</div>
			</div>
		</div>
	</div>

    <p style="font-size: 0.9em; padding-top: 1em;" data-tns="Footer">
		<span class="mx-2"><%= obplayer.Translate.t('Footer', 'footer_message1') %></span> <a href="https://openbroadcaster.com/obplayer_licence">Affero GPL v3.</a>
    </p>
  </body>
</html>
